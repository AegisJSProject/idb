<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="color-scheme" content="light dark" />
		<meta name="referrerpolicy" content="no-referrer" />
		<meta http-equiv="Content-Security-Policy" content="
			default-src 'none';
			img-src 'self' blob:;
			style-src 'none';
			form-action 'none';
			connect-src 'none';
			script-src 'self' https://unpkg.com/@aegisjsproject/ https://unpkg.com/@shgysk8zer0/ 'sha384-chMNSnwwCoZFECmJz+cLpQkoHI0/RhhSrkBdAkAjcZam4mP8uVpes1SPyYXtdRVN';
			trusted-types aegis-sanitizer#html;
			require-trusted-types-for 'script';
		" />
		<link rel="icon" href="./icon.svg" type="image/svg+xml" sizes="any" />
		<title>Yet another Todo App</title>
		<script type="importmap" integrity="sha384-chMNSnwwCoZFECmJz+cLpQkoHI0/RhhSrkBdAkAjcZam4mP8uVpes1SPyYXtdRVN">
			{
				"imports": {
					"@aegisjsproject/idb": "../idb.js",
					"@aegisjsproject/styles/": "https://unpkg.com/@aegisjsproject/styles@0.2.6/",
					"@aegisjsproject/parsers/": "https://unpkg.com/@aegisjsproject/parsers@0.0.16/"
				}
			}
		</script>
		<link rel="modulepreload" href="../idb.js" referrerpolicy="no-referrer" />
		<link rel="preconnect" href="https://unpkg.com" referrerpolicy="no-referrer" crossorigin="anonymous" />
		<!-- <script src="https://unpkg.com/@shgysk8zer0/polyfills@0.4.8/browser.min.js" referrerpolicy="no-referrer" fetchpriority="high" crossorigin="anonymous" integrity="sha384-S6IiMVrhK2h8SpNcu3w1ybvXAcAPLcN6DC8dy35bqDEcqIt4wP5zBGTYd96qtGRi" defer=""></script> -->
		<script type="module" src="./index.js" referrerpolicy="no-referrer"></script>
	</head>
	<body>
		<div id="todo-list"></div>
		<button type="button" popovertarget="add-todo" popovertargetaction="show" accesskey="+" class="btn btn-primary fixed bottom right">
			<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" fill="currentColor" viewBox="0 0 12 16">
				<path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"/>
			</svg>
			<span>Create</span>
		</button>
		<template id="todo-template">
			<div class="todo-item system-ui">
				<div class="title clearfix">
					<input type="checkbox" class="task-done" data-field="complete" data-task-id="" />
					<span data-field="title"></span>
					<button type="button" class="btn btn-danger float-right" title="Delete Task" data-task-id="">
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" fill="currentColor" viewBox="0 0 12 16">
							<path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/>
						</svg>
					</button>
				</div>
				<p class="description" data-field="description"></p>
				<div class="due-container">
					<span>Due:</span>
					<time data-field="due"></time>
				</div>
				<div>
					<span>Created:</span>
					<time data-field="createdAt"></time>
				</div>
				<details class="attachments-container">
					<summary>Attachments</summary>
					<div data-field="attachments"></div>
				</details>
			</div>
		</template>
		<div id="add-todo" popover="manual">
			<form id="create-todo">
				<fieldset>
					<legend>Create new Todo</legend>
					<div class="form-group">
						<label for="todo-title" class="input-label required">Title</label>
						<input type="text" name="title" id="todo-title" class="input" placeholder="Task Title" autocomplete="off" required="" />
					</div>
					<div class="form-group">
						<label for="todo-description" class="input-label">Description</label>
						<input type="text" name="description" id="todo-description" class="input" placeholder="Task description" autocomplete="off" />
					</div>
					<div class="form-group">
						<label for="todo-due-date" class="input-label required">Due Date</label>
						<input type="date" name="due" id="todo-due-date" class="input" />
					</div>
					<div class="form-group">
						<label for="todo-attachments" class="input-label">Attachments</label>
						<input type="file" name="attachments" id="todo-attachemnts" class="input" accept="image/*" multiple="" />
					</div>
				</fieldset>
				<div>
					<button type="submit" class="btn btn-success">
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" fill="currentColor" viewBox="0 0 12 16">
							<path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"/>
						</svg>
						<span>Create</span>
					</button>
					<button type="reset" class="btn btn-danger">
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" fill="currentColor" viewBox="0 0 12 16">
							<path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/>
						</svg>
						<span>Close</span>
					</button>
				</div>
			</form>
		</div>
	</body>
</html>
